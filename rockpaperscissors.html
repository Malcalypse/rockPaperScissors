<!DOCTYPE html>
<html>
<head>
	<title>Rock, Paper, Scissors</title>
</head>
<body>


<script>

var gameCount = 1;
var myWins = 0;
var compWins = 0;

const weapons = ["paper", "rock", "scissors"];

var question = prompt("Game Count = " + gameCount + " Choose a weapon: " + weapons[0] + ", " + weapons [1] + " or " + weapons [2]);
var myWeapon = question.toLowerCase();




while (gameCount <4) {
	gameCount++;
	findWinner();
}



function findWinner() {

	var question = prompt("choose again!");

	var lastComp = computerSelection;

	function computerPlay() {
	return weapons[Math.floor(Math.random() * weapons.length)];
	}

	var computerSelection = computerPlay();

	function compGamePlay() {
		var computerIndex = weapons.indexOf(computerSelection);
		return computerIndex;
	}

	function myGamePlay() {
		var myIndex = weapons.indexOf(myWeapon);
		return myIndex;
	}

	if(compGamePlay() - myGamePlay() == 0) {
		alert("comp chose " + computerSelection + " tie");
	} else if(compGamePlay() - myGamePlay() == -1) {
		alert("comp chose " + computerSelection + ". You lose!");
		compWins++;
	} else if(compGamePlay() - myGamePlay() == -2) {
		alert("comp chose " + computerSelection + ". You win!");
		myWins++;
	} else if(compGamePlay() - myGamePlay() == 2) {
		alert("comp chose " + computerSelection + ". You lose!");
		compWins++;
	} else {
		alert("comp chose " + computerSelection + ". You win!");
		myWins++;
	}

	alert("Game Count = " + gameCount + ". You've won: " + myWins + ". The computer has won:" + compWins + " Choose a weapon: " + weapons[0] + ", " + weapons [1] + " or " + weapons [2]);


	}




function lastOne() {
	
	var lastQuestion = prompt("final choice!");

	function lastComputerPlay() {
		return weapons[Math.floor(Math.random() * weapons.length)];
	}

	var lastComputerSelection = lastComputerPlay();

	function lastCompGamePlay() {
		var lastComputerIndex = weapons.indexOf(lastComputerSelection);
		return lastComputerIndex;
	}

	function myLastGamePlay() {
		var myLastIndex = weapons.indexOf(myWeapon);
		return myLastIndex;
	}

	if(lastCompGamePlay() - myLastGamePlay() == 0) {
		alert("comp chose " + LastComputerSelection + " tie");
	} else if(lastCompGamePlay() - myLastGamePlay() == -1) {
		alert("comp chose " + lastComputerSelection + ". You lose!");
		lastCompWins++;
	} else if(lastCompGamePlay() - myLastGamePlay() == -2) {
		alert("comp chose " + lastComputerSelection + ". You win!");
		myWins++;
	} else if(lastCompGamePlay() - myLastGamePlay() == 2) {
		alert("comp chose " + lastComputerSelection + ". You lose!");
		compWins++;
	} else {
		alert("comp chose " + lastComputerSelection + ". You win!");
		myWins++;
	}

	alert("The final score is ... computer: " + compWins + " You: " + myWins);

	}

lastOne();

</script>

</body>
</html>